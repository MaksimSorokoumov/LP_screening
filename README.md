# LP Screening - Оптимизатор Посадочных Страниц

Простое веб-приложение для экспресс-аудита посадочных страниц (landing pages) с использованием ИИ. Проект создан для демонстрации навыков в области Python, FastAPI и интеграции с AI API.

## Цель проекта

Помочь интернет-маркетологам и аккаунт-менеджерам быстро оценить качество лендинга по ключевым техническим и контентным параметрам, а также получить рекомендации по улучшению, сгенерированные ИИ.

## MVP: Основные проверки

В минимально рабочем прототипе (MVP) реализованы следующие проверки:

*   **Техническое SEO:**
    *   Наличие и доступность `robots.txt`
    *   Наличие и доступность `sitemap.xml`
    *   Использование защищенного соединения (SSL)
    *   Наличие мета-тегов `title` и `description`
    *   Корректная структура заголовков (H1, H2, H3)
    *   Наличие `alt`-атрибутов у изображений
    *   Наличие скриптов веб-аналитики (Google Analytics, Яндекс.Метрика)
*   **Контент и конверсия:**
    *   Оценка читаемости текста
    *   Анализ длины текста
    *   Проверка наличия Призыва к Действию (Call-to-Action)
    *   Проверка наличия форм для сбора контактов
*   **Анализ с помощью ИИ (OpenAI GPT):**
    *   Оценка релевантности контента ключевым словам.
    *   Генерация кратких и понятных рекомендаций по улучшению страницы.

## Технологический стек

*   **Backend:** Python 3, FastAPI
*   **Парсинг:** Requests, BeautifulSoup4
*   **Анализ текста:** readability-metrics
*   **ИИ:** OpenAI API
*   **Окружение:** python-dotenv

## Как запустить

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/MaksimSorokoumov/LP_screening.git
    cd LP_screening
    ```

2.  **Создайте и активируйте виртуальное окружение:**
    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Windows: venv\Scripts\activate
    ```

3.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Создайте файл `.env`** в корне проекта и добавьте ваш API-ключ от OpenAI:
    ```
    OPENAI_API_KEY="sk-..."
    ```

5.  **Запустите приложение:**
    ```bash
    uvicorn app.main:app --reload
    ```

6.  Откройте в браузере `http://127.0.0.1:8000/` для доступа к UI приложения или `http://127.0.0.1:8000/docs` для доступа к Swagger UI и тестирования API.

## API Endpoints

*   **POST /audit**
    *   **Описание:** Запускает полный аудит посадочной страницы и возвращает результаты в формате JSON.
    *   **Запрос:**
        ```json
        {
          "url": "https://example.com"
        }
        ```
    *   **Ответ (пример):**
        ```json
        {
          "message": "Аудит выполнен.",
          "fetch": {
            "success": true,
            "ssl_ok": true,
            "status_code": 200,
            "error": null
          },
          "parse": {
            "title": "Example Domain",
            "description_present": false,
            "h1_count": 1,
            "h2_count": 0,
            "h3_count": 0,
            "forms": 0
          },
          "rules": [
            {
              "name": "SSL",
              "status": "OK",
              "message": "SSL-сертификат корректен."
            },
            {
              "name": "Title",
              "status": "OK",
              "message": "Title присутствует и имеет оптимальную длину."
            }
            // ... другие правила
          ],
          "ai": {
            "readability": "easy",
            "recommendations": [
              "Убедитесь, что мета-описание присутствует и точно отражает содержание страницы.",
              "Добавьте формы для сбора лидов, если это необходимо для вашей цели."
              // ... другие рекомендации
            ]
          }
        }
        ```

*   **GET /audit/html**
    *   **Описание:** Запускает аудит и возвращает полный HTML-отчёт для заданной страницы.
    *   **Запрос:** `http://127.0.0.1:8000/audit/html?url=https://example.com`
    *   **Ответ:** HTML-страница с отчётом.

## Структура проекта
```
LP_optimiser/
├── app/
│   ├── main.py            # Точка входа FastAPI, основные эндпоинты
│   ├── collectors/        # Модули для сбора данных (HTTP-фетчеры, robots.txt, sitemap.xml)
│   │   ├── __init__.py
│   │   └── http_fetcher.py
│   ├── parsers/           # Модули для парсинга HTML и извлечения данных
│   │   ├── __init__.py
│   │   └── html_parser.py
│   ├── analyzers/         # Модули для применения правил аудита
│   │   ├── __init__.py
│   │   └── basic.py
│   ├── ai/                # Модули для работы с AI API (OpenAI GPT)
│   │   ├── __init__.py
│   │   └── gpt_client.py
│   ├── reports/           # Модули для рендеринга отчётов (HTML, PDF и т.д.)
│   │   ├── __init__.py
│   │   ├── renderer.py
│   │   └── templates/     # Шаблоны Jinja2
│   │       └── report.html
│   └── static/            # Статические файлы (UI-интерфейс)
│       └── index.html
├── .env.template          # Шаблон для переменных окружения
├── .gitignore             # Игнорируемые файлы для Git
├── README.md              # Описание проекта
├── requirements.txt       # Список зависимостей Python
└── docs/
    └── requirements_mvp.md # Детальные требования и дорожная карта проекта
```

## Переменные окружения
| Имя               | Описание                      |
|-------------------|-------------------------------|
| `OPENAI_API_KEY`  | Ключ доступа к OpenAI API     |

## Дальнейшее развитие
См. `docs/requirements_mvp.md` для дорожной карты. В приоритете: Lighthouse-аудит, mobile-friendly-чек и генерация PDF-отчётов. 